
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Spanner Client &#8212; google-cloud 23ba642 documentation</title>
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Instance Admin" href="instance-usage.html" />
    <link rel="prev" title="Python Client for Cloud Spanner" href="index.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="spanner-client">
<h1>Spanner Client<a class="headerlink" href="#spanner-client" title="Permalink to this headline">#</a></h1>
<div class="section" id="instantiating-a-client">
<span id="id1"></span><h2>Instantiating a Client<a class="headerlink" href="#instantiating-a-client" title="Permalink to this headline">#</a></h2>
<p>To use the API, the <a class="reference internal" href="client-api.html#google.cloud.spanner_v1.client.Client" title="google.cloud.spanner_v1.client.Client"><code class="xref py py-class docutils literal notranslate"><span class="pre">Client</span></code></a>
class defines a high-level interface which handles authorization
and creating other objects:</p>
<div class="code python highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">google.cloud</span> <span class="k">import</span> <span class="n">spanner_v1</span>
<span class="n">client</span> <span class="o">=</span> <span class="n">spanner_v1</span><span class="o">.</span><span class="n">Client</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="long-lived-defaults">
<h2>Long-lived Defaults<a class="headerlink" href="#long-lived-defaults" title="Permalink to this headline">#</a></h2>
<p>When creating a <a class="reference internal" href="client-api.html#google.cloud.spanner_v1.client.Client" title="google.cloud.spanner_v1.client.Client"><code class="xref py py-class docutils literal notranslate"><span class="pre">Client</span></code></a>, the
<code class="docutils literal notranslate"><span class="pre">user_agent</span></code> and <code class="docutils literal notranslate"><span class="pre">timeout_seconds</span></code> arguments have sensible
defaults
(<code class="xref py py-data docutils literal notranslate"><span class="pre">DEFAULT_USER_AGENT</span></code> and
<code class="xref py py-data docutils literal notranslate"><span class="pre">DEFAULT_TIMEOUT_SECONDS</span></code>).
However, you may over-ride them and these will be used throughout all API
requests made with the <code class="docutils literal notranslate"><span class="pre">client</span></code> you create.</p>
</div>
<div class="section" id="configuration">
<h2>Configuration<a class="headerlink" href="#configuration" title="Permalink to this headline">#</a></h2>
<ul>
<li><p class="first">For an overview of authentication in <code class="docutils literal notranslate"><span class="pre">google.cloud-python</span></code>,
see <a class="reference internal" href="../core/auth.html"><span class="doc">Authentication</span></a>.</p>
</li>
<li><p class="first">In addition to any authentication configuration, you can also set the
<span class="target" id="index-0"></span><code class="xref std std-envvar docutils literal notranslate"><span class="pre">GCLOUD_PROJECT</span></code> environment variable for the Google Cloud Console
project you’d like to interact with. If your code is running in Google App
Engine or Google Compute Engine the project will be detected automatically.
(Setting this environment variable is not required, you may instead pass the
<code class="docutils literal notranslate"><span class="pre">project</span></code> explicitly when constructing a
<a class="reference internal" href="client-api.html#google.cloud.spanner_v1.client.Client" title="google.cloud.spanner_v1.client.Client"><code class="xref py py-class docutils literal notranslate"><span class="pre">Client</span></code></a>).</p>
</li>
<li><p class="first">After configuring your environment, create a
<a class="reference internal" href="client-api.html#google.cloud.spanner_v1.client.Client" title="google.cloud.spanner_v1.client.Client"><code class="xref py py-class docutils literal notranslate"><span class="pre">Client</span></code></a></p>
<div class="code highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">google.cloud</span> <span class="k">import</span> <span class="n">spanner_v1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">client</span> <span class="o">=</span> <span class="n">spanner_v1</span><span class="o">.</span><span class="n">Client</span><span class="p">()</span>
</pre></div>
</div>
<p>or pass in <code class="docutils literal notranslate"><span class="pre">credentials</span></code> and <code class="docutils literal notranslate"><span class="pre">project</span></code> explicitly</p>
<div class="code highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">google.cloud</span> <span class="k">import</span> <span class="n">spanner_v1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">client</span> <span class="o">=</span> <span class="n">spanner_v1</span><span class="o">.</span><span class="n">Client</span><span class="p">(</span><span class="n">project</span><span class="o">=</span><span class="s1">&#39;my-project&#39;</span><span class="p">,</span> <span class="n">credentials</span><span class="o">=</span><span class="n">creds</span><span class="p">)</span>
</pre></div>
</div>
</li>
</ul>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p class="last">Be sure to use the <strong>Project ID</strong>, not the <strong>Project Number</strong>.</p>
</div>
</div>
<div class="section" id="warnings-about-multiprocessing">
<h2>Warnings about Multiprocessing<a class="headerlink" href="#warnings-about-multiprocessing" title="Permalink to this headline">#</a></h2>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">When using multiprocessing, the application may hang if a
<a class="reference internal" href="client-api.html#google.cloud.spanner_v1.client.Client" title="google.cloud.spanner_v1.client.Client"><code class="xref py py-class docutils literal notranslate"><span class="pre">Client</span></code></a> instance is created
before <code class="xref py py-class docutils literal notranslate"><span class="pre">multiprocessing.Pool</span></code> or <a class="reference external" href="https://docs.python.org/3/library/multiprocessing.html#multiprocessing.Process" title="(in Python v3.7)"><code class="xref py py-class docutils literal notranslate"><span class="pre">multiprocessing.Process</span></code></a>
invokes <a class="reference external" href="https://docs.python.org/3/library/os.html#os.fork" title="(in Python v3.7)"><code class="xref py py-func docutils literal notranslate"><span class="pre">os.fork()</span></code></a>.  The issue is under investigation, but may be only
happening on Macintosh and not Linux.  See <a class="reference external" href="https://github.com/grpc/grpc/issues/12455#issuecomment-348578950">GRPC/GRPC#12455</a> for
more information.</p>
</div>
</div>
<div class="section" id="next-step">
<h2>Next Step<a class="headerlink" href="#next-step" title="Permalink to this headline">#</a></h2>
<p>After a <a class="reference internal" href="client-api.html#google.cloud.spanner_v1.client.Client" title="google.cloud.spanner_v1.client.Client"><code class="xref py py-class docutils literal notranslate"><span class="pre">Client</span></code></a>, the next
highest-level object is an <a class="reference internal" href="instance-api.html#google.cloud.spanner_v1.instance.Instance" title="google.cloud.spanner_v1.instance.Instance"><code class="xref py py-class docutils literal notranslate"><span class="pre">Instance</span></code></a>.
You’ll need one before you can interact with databases.</p>
<p>Next, learn about the <a class="reference internal" href="instance-usage.html"><span class="doc">Instance Admin</span></a>.</p>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">google-cloud</a></h1>



<p class="blurb">Google Cloud Client Libraries for Python</p>




<p>
<iframe src="https://ghbtns.com/github-btn.html?user=GoogleCloudPlatform&repo=google-cloud-python&type=watch&count=true&size=large&v=2"
  allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe>
</p>





<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../core/index.html">Core Libraries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../asset/index.html">Asset Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../automl/index.html">AutoML</a></li>
<li class="toctree-l1"><a class="reference internal" href="../bigquery/index.html">BigQuery</a></li>
<li class="toctree-l1"><a class="reference internal" href="../bigquery_datatransfer/index.html">BigQuery Data-Transfer</a></li>
<li class="toctree-l1"><a class="reference internal" href="../bigquery_storage/index.html">BigQuery Storage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../bigtable/index.html">Bigtable</a></li>
<li class="toctree-l1"><a class="reference internal" href="../container/index.html">Container</a></li>
<li class="toctree-l1"><a class="reference internal" href="../datalabeling/index.html">Data Labeling</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dlp/index.html">Data Loss Prevention</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dataproc/index.html">Dataproc</a></li>
<li class="toctree-l1"><a class="reference internal" href="../datastore/index.html">Datastore</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dns/index.html">DNS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../firestore/index.html">Firestore</a></li>
<li class="toctree-l1"><a class="reference internal" href="../iam/index.html">IAM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../iot/index.html">IoT</a></li>
<li class="toctree-l1"><a class="reference internal" href="../kms/index.html">Key Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../language/index.html">Language</a></li>
<li class="toctree-l1"><a class="reference internal" href="../oslogin/index.html">OSLogin</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pubsub/index.html">PubSub</a></li>
<li class="toctree-l1"><a class="reference internal" href="../redis/index.html">Redis</a></li>
<li class="toctree-l1"><a class="reference internal" href="../resource-manager/index.html">Resource Manager</a></li>
<li class="toctree-l1"><a class="reference internal" href="../runtimeconfig/index.html">Python Client for Google Cloud RuntimeConfig</a></li>
<li class="toctree-l1"><a class="reference internal" href="../runtimeconfig/index.html#api-reference">API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../scheduler/index.html">Scheduler</a></li>
<li class="toctree-l1"><a class="reference internal" href="../securitycenter/index.html">Security Center</a></li>
<li class="toctree-l1"><a class="reference internal" href="../websecurityscanner/index.html">Security Scanner</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Spanner</a></li>
<li class="toctree-l1"><a class="reference internal" href="../speech/index.html">Speech</a></li>
<li class="toctree-l1"><a class="reference internal" href="../error-reporting/index.html">Stackdriver Error Reporting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../irm/index.html">Stackdriver Incident Response &amp; Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="../logging/index.html">Stackdriver Logging</a></li>
<li class="toctree-l1"><a class="reference internal" href="../monitoring/index.html">Stackdriver Monitoring</a></li>
<li class="toctree-l1"><a class="reference internal" href="../trace/index.html">Stackdriver Trace</a></li>
<li class="toctree-l1"><a class="reference internal" href="../storage/index.html">Storage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../talent/index.html">Talent</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tasks/index.html">Tasks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../texttospeech/index.html">Text-to-Speech</a></li>
<li class="toctree-l1"><a class="reference internal" href="../translate/index.html">Translate</a></li>
<li class="toctree-l1"><a class="reference internal" href="../videointelligence/index.html">Video Intelligence</a></li>
<li class="toctree-l1"><a class="reference internal" href="../vision/index.html">Vision</a></li>
<li class="toctree-l1"><a class="reference internal" href="../releases.html">Release History</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  <li><a href="index.html">Python Client for Cloud Spanner</a><ul>
      <li>Previous: <a href="index.html" title="previous chapter">Python Client for Cloud Spanner</a></li>
      <li>Next: <a href="instance-usage.html" title="next chapter">Instance Admin</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2014-2017, Google.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.8.5</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../_sources/spanner/client-usage.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    
    <a href="https://github.com/GoogleCloudPlatform/google-cloud-python" class="github">
        <img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub"  class="github"/>
    </a>
    

    
  </body>
</html>